{% extends 'base.html' %}
{% block content %}
<div class="text">
<h2>Requests</h2>
<p><a href="{{ url_for('request.create_request') }}">Create Request</a></p>
    {% for request in requests %}
      <div class="post">
        <img src="{{ url_for('static', filename='images/profile_photos/' + request_users[request.id].image_filename) if request_users[request.id].image_filename else app_config['DEFAULT_PROFILE_PHOTO_URL'] }}" alt="Profile Image" class="profile-image" onclick="enlargeImage(this.src)">
        <h3 style="display: inline-block; font-size: 45px;">{{ request_users[request.id].username }}</h3>
        <h4>{{ request.category }}</h4>
        <p>{{ request.content }}</p>
        {% if request.image_filename %}
          <img src="{{ url_for('static', filename='images/requests/' + request.image_filename) }}" alt="Request Image" class="post-image" onclick="enlargeImage(this.src)">
        {% endif %}
        <a href="{{ url_for('request.view_request', request_id=request.id) }}">View Request</a>
        <p>{{ request.created_at }}</p>
      </div>
    {% endfor %}
</div>
{% endblock %}